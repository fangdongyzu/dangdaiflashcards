<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dangdai Chinese Vocabulary Flashcard</title>
    <!-- Links to the CSS file -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Dangdai Chinese Flashcards</h1>
            <p>Select a Book and Lesson to begin.</p>
        </header>

        <div class="main-content">
            <!-- Control Panel -->
            <div class="control-panel" id="control-panel">
                
                <div class="settings-grid">
                    <div class="settings-section">
                        <h3>1. Select Content</h3>
                        <div class="form-group">
                            <label for="book-select">Select Book:</label>
                            <select id="book-select">
                                <option value="">Select Book...</option>
                                <option value="B1">Book 1</option>
                                <option value="B2">Book 2</option>
                                <option value="B3">Book 3</option>
                                <option value="B4">Book 4</option>
                                <option value="B5">Book 5</option>
                                <option value="B6">Book 6 </option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="lesson-select">Select Lesson:</label>
                            <select id="lesson-select" disabled>
                                <option value="">First Select a Book</option>
                            </select>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>2. Choose Mode</h3>
                        <div class="action-buttons">
                            <button class="btn tab-btn active" data-tab="list-content" id="view-list-btn" disabled>View List</button>
                            <button class="btn tab-btn" data-tab="flashcard-content" id="start-flashcards-btn" disabled>Flashcards</button>
                            <button class="btn tab-btn" data-tab="quiz-content" id="start-quiz-btn" disabled>Quiz</button>
                            <button class="btn tab-btn" data-tab="difficult-content" id="view-difficult-btn">My List</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Vocabulary List View -->
            <div class="tab-content" id="list-content">
                <div style="overflow-x: auto;">
                    <table class="vocabulary-list" id="vocab-table">
                        <thead>
                            <tr>
                                <th>Chinese</th>
                                <th>Pinyin</th>
                                <th>English</th>
                                <th>Part of Speech</th>
                            </tr>
                        </thead>
                        <tbody id="vocab-table-body">
                            <tr><td colspan="4" class="text-center">Select a lesson to view words.</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Flashcard View -->
            <div class="tab-content hidden" id="flashcard-content">
                <!-- Progress Bar for Flashcards -->
                <div class="progress-container">
                    <div class="progress-track">
                        <div class="progress-fill" id="flashcard-progress-bar"></div>
                    </div>
                    <div class="progress-text" id="flashcard-progress-text">0 / 0</div>
                </div>

                <div class="flashcard-container">
                    <div class="flashcard" id="flashcard">
                        <div class="front">
                            <div class="chinese-char" id="fc-chinese"></div>
                            <div class="flip-hint">(Tap to flip)</div>
                        </div>
                        <div class="back">
                            <div class="pinyin" id="fc-pinyin"></div>
                            <div class="part-of-speech" id="fc-pos"></div>
                            <div class="english" id="fc-english"></div>
                            <div class="example-sentence">
                                <strong>Example:</strong><br>
                                <span id="fc-example"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="navigation-controls">
                    <button id="prev-btn" class="nav-btn" disabled>&#8592;</button>
                    <button id="mark-difficult-btn" class="nav-btn" style="border-color:var(--warning-color); color:var(--warning-color);">â˜…</button>
                    <button id="next-btn" class="nav-btn">&#8594;</button>
                </div>
                <div class="text-center" style="margin-top:10px;">
                    <button id="shuffle-btn" class="btn secondary" style="font-size:0.8rem; padding:8px 16px;">Shuffle Cards</button>
                </div>
            </div>

            <!-- Quiz View -->
            <div class="tab-content hidden" id="quiz-content">
                 <!-- Progress Bar for Quiz -->
                 <div class="progress-container">
                    <div class="progress-track">
                        <div class="progress-fill" id="quiz-progress-bar"></div>
                    </div>
                    <div class="progress-text" id="quiz-progress-text">Question 1 of 10</div>
                </div>

                <div class="quiz-container">
                    <div class="question-area">
                        <h2 class="question-text" id="quiz-question"></h2>
                    </div>
                    <div class="options-grid" id="quiz-options">
                        <!-- Options injected via JS -->
                    </div>
                    <div style="margin-top: 20px;">
                        <div id="feedback-msg" class="hidden"></div>
                        <button id="next-question-btn" class="btn primary hidden">Next Question</button>
                    </div>
                    
                    <div id="quiz-result" class="hidden">
                        <h3>Quiz Complete!</h3>
                        <p>Your Final Score:</p>
                        <span id="final-score"></span>
                        <span id="final-percentage" class="percentage-display"></span>
                        
                        <button id="retry-quiz-btn" class="btn primary">Retry Quiz</button>
                    </div>
                </div>
            </div>

            <!-- Difficult Words List -->
            <div class="tab-content hidden" id="difficult-content">
                <div class="difficult-words">
                    <h3>Words Needing Practice</h3>
                    <ul id="difficult-words-list" style="list-style:none; padding:0; margin-top:20px;">
                        <li class="text-center">No difficult words yet.</li>
                    </ul>
                    <div style="margin-top:20px; text-align:center;">
                        <button id="clear-difficult-btn" class="btn warning">Clear List</button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <footer>
        For feedback, email me at <a href="mailto:fangdongyzu@gmail.com">fangdongyzu@gmail.com</a>
    </footer>

    <!-- Links to the JavaScript file -->
    <script src="script.js"></script>
</body>
</html>